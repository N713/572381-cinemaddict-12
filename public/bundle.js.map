{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/site-abstract-component.js","webpack:///./src/components/site-data.js","webpack:///./src/components/site-film-card.js","webpack:///./src/components/site-film-popup.js","webpack:///./src/components/site-film-section.js","webpack:///./src/components/site-films-commented.js","webpack:///./src/components/site-films-container.js","webpack:///./src/components/site-films-list-title.js","webpack:///./src/components/site-films-list.js","webpack:///./src/components/site-films-top.js","webpack:///./src/components/site-movie-controller.js","webpack:///./src/components/site-navigation.js","webpack:///./src/components/site-page-controller.js","webpack:///./src/components/site-search.js","webpack:///./src/components/site-show-more.js","webpack:///./src/components/site-sorting.js","webpack:///./src/components/site-statistics.js","webpack:///./src/components/site-user-profile.js","webpack:///./src/components/site-utils.js","webpack:///./src/main.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc,MAAM,KAAK,YAAY;AACrC;;AAEA,YAAY,MAAM,IAAI,YAAY;AAClC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAEM;AACA;;AAEA;AACP,GAAG,0CAA0C;AAC7C,GAAG,oEAAoE;AACvE,GAAG,kEAAkE;AACrE,GAAG,oEAAoE;AACvE;;;;;;;;;;;;;ACtIA;AAAA;AAAA;AAA4D;;AAErD,uBAAuB,0EAAiB;AAC/C,eAAe,2EAA2E;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD,uCAAuC,aAAa;AACpD;AACA,0CAA0C,WAAW;AACrD,8CAA8C,eAAe;AAC7D,2CAA2C,YAAY;AACvD;AACA,oBAAoB,aAAa;AACjC,4CAA4C,kBAAkB;AAC9D,yCAAyC,sBAAsB;AAC/D;AACA,2BAA2B,oEAAoE;AAC/F,2BAA2B,gEAAgE;AAC3F,2BAA2B,iEAAiE;AAC5F;AACA;AACA;AACA;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAA4D;;AAE5D;;AAEO,wBAAwB,0EAAiB;AAChD,eAAe,mHAAmH;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,aAAa;;AAE1E,+CAA+C,UAAU;AACzD;;AAEA;AACA;AACA;AACA,sDAAsD,YAAY;AAClE,wEAAwE,YAAY;AACpF;;AAEA;AACA,4DAA4D,aAAa;AACzE;AACA;;AAEA;AACA;AACA;AACA,qDAAqD,eAAe;AACpE;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;AACA;AACA;AACA,qDAAqD,kBAAkB;AACvE;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA;AACA;AACA;AACA,sBAAsB;AACtB,wDAAwD,MAAM;AAC9D;AACA;;AAEA;AACA,oBAAoB;AACpB;AACA;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AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,gDAAK;AACjC,QAAQ,iDAAK;AACb;AACA;AACA,6BAA6B,gDAAK;AAClC,QAAQ,iDAAK;AACb;AACA;AACA,+BAA+B,gDAAK;AACpC,QAAQ,iDAAK;AACb;AACA;AACA;AACA;;;;;;;;;;;;;AChEA;AAAA;AAAA;AAA4D;;AAErD,qBAAqB,0EAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAA4D;;AAErD,6BAA6B,0EAAiB;AACrD;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAA4D;;AAErD,sBAAsB,0EAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAA4D;AACzB;;AAEnC;;AAEO,yBAAyB,0EAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM,iDAAK,qBAAqB,0EAAiB,kCAAkC,iDAAK;AACxF,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAA4D;AACnB;;AAElC,0BAA0B,0EAAiB;AAClD;AACA;AACA;AACA,qCAAqC,uDAAY,CAAC;AAClD;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAA4D;AAChB;AACF;;AAE1C;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,WAAW,0EAAiB;AAC5B,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,qBAAqB,wDAAQ;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;;AAEA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;AACA,GAAG;;AAEH;AACA,sBAAsB,0DAAS;;AAE/B;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;;AAEP;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACC;AACE;AACE;AACC;AACC;AACC;AACA;AACE;AACA;AACC;AACG;AACA;AACA;AACU;AACJ;AACC;AACD;AACE;AACX;;AAExD;;AAEA,4BAA4B,4DAAK,yBAAyB,8DAAM,GAAG,4DAAK,yBAAyB,0EAAW;AAC5G,0BAA0B,4DAAK,yBAAyB,sEAAU,GAAG,4DAAK,yBAAyB,gEAAO,GAAG,4DAAK,yBAAyB,0EAAW;AACtJ,kCAAkC,4DAAK,yBAAyB,qEAAS,GAAG,4DAAK,yBAAyB,mEAAQ,GAAG,4DAAK,yBAAyB,gFAAc;;AAEjK;AACA;AACA,4DAAK,mDAAmD,4DAAK;AAC7D,4DAAK,+CAA+C,4DAAK;;AAEzD;AACA,4DAAK,wDAAwD,4DAAK;;AAElE;AACA,4DAAK,mBAAmB,4DAAK,yBAAyB,iFAAc,GAAG,4DAAK;;AAE5E;AACA;AACA;AACA,4DAAK,mBAAmB,4DAAK,yBAAyB,oFAAkB,GAAG,4DAAK;;AAEhF;AACA,uBAAuB,gFAAc,yBAAyB,2DAAK;AACnE;;AAEA,4BAA4B,kFAAe,CAAC,2DAAK;AACjD;;AAEA,4DAAK,gCAAgC,4DAAK,yBAAyB,yEAAc,KAAK,4DAAK;;AAE3F;AACA;AACA,EAAE,4DAAK,iBAAiB,4DAAK,yBAAyB,oFAAkB,KAAK,4DAAK;AAClF,CAAC;;AAED;AACA;AACA,wEAAwE,iEAAW;AACnF;AACA,IAAI,4DAAK;AACT,GAAG;AACH,CAAC;;AAED,kBAAkB,uEAAU;AAC5B;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,yCAAyC;AAC1D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA6B,2DAAK,mBAAmB;;AAErD;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","export class AbstractComponent {\n  constructor() {\n    this._element = null;\n\n    if (new.target === AbstractComponent) {\n      throw new Error(`Can't instantiate AbstractComponent, only concrete one.`);\n    }\n  }\n\n  static makeElement(template) {\n    const newElement = document.createElement(`div`);\n    newElement.innerHTML = template;\n    return newElement.firstElementChild;\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = AbstractComponent.makeElement(this.getTemplate());\n    }\n\n    return this._element;\n  }\n\n  getTemplate() {\n    throw Error(`Abstract method not implemented`);\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n}\n","const NUMBER_OF_FILMS_TO_RENDER = 20;\nconst NUMBER_OF_TITLES = 7;\nconst STRINGS_TO_DESCRIPTION = 3;\nconst COMMENTS_NUMBER = 4;\n\nconst getRandomIntegerUnder = (under = 1) => {\n  return Math.floor(Math.random() * under);\n};\n\nconst minutesToHours = (minutes) => {\n  let hours = Math.floor(minutes / 60);\n  let lastMinutes = minutes - (hours * 60);\n\n  if (lastMinutes < 10) {\n    return `${hours}h 0${lastMinutes}m`;\n  }\n\n  return `${hours}h ${lastMinutes}m`;\n};\n\nconst avoidZero = (number) => {\n  if (number === 0) {\n    number = 1;\n  }\n\n  return number;\n};\n\nconst getPoster = () => {\n  return [\n    `./images/posters/made-for-each-other.png`,\n    `./images/posters/popeye-meets-sinbad.png`,\n    `./images/posters/sagebrush-trail.jpg`,\n    `./images/posters/santa-claus-conquers-the-martians.jpg`,\n    `./images/posters/the-dance-of-life.jpg`,\n    `./images/posters/the-great-flamarion.jpg`,\n    `./images/posters/the-man-with-the-golden-arm.jpg`\n  ][getRandomIntegerUnder(NUMBER_OF_TITLES)];\n};\n\nconst getTitle = () => {\n  return [\n    `Made For Each Other`,\n    `Popeye Meets Sindbad`,\n    `Sagebrush Trail`,\n    `Santa Claus Conquers The Martians`,\n    `The Dance Of Life`,\n    `The Great Flamarion`,\n    `The Man With The Golden Arm`\n  ][getRandomIntegerUnder(NUMBER_OF_TITLES)];\n};\n\nconst getRating = () => {\n  return [8.1, 7.5, 6.8, 7.7, 9.0, 1.2, 5.5][getRandomIntegerUnder(NUMBER_OF_TITLES)];\n};\n\nconst getYear = () => {\n  return [1929, 1956, 1977, 2002, 1993, 1961, 1985][getRandomIntegerUnder(NUMBER_OF_TITLES)];\n};\n\nconst getDuration = () => {\n  return minutesToHours([124, 136, 142, 112, 137, 141, 55][getRandomIntegerUnder(NUMBER_OF_TITLES)]);\n};\n\nconst getGenre = () => {\n  return [`comedy`, `musical`, `action`, `drama`, `thriller`, `horror`, `documental`][getRandomIntegerUnder(NUMBER_OF_TITLES)];\n};\n\nconst getDescription = () => {\n  return `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras aliquet varius magna, non porta ligula feugiat eget. \n  Fusce tristique felis at fermentum pharetra. Aliquam id orci ut lectus varius viverra. \n  Nullam nunc ex, convallis sed finibus eget, sollicitudin eget ante. Phasellus eros mauris, condimentum sed nibh vitae, sodales efficitur ipsum. \n  Sed blandit, eros vel aliquam faucibus, purus ex euismod diam, eu luctus nunc ante ut dui. \n  Sed sed nisi sed augue convallis suscipit in sed felis. Aliquam erat volutpat. \n  Nunc fermentum tortor ac porta dapibus. In rutrum ac purus sit amet tempus.\n  `.split(`.`, avoidZero(getRandomIntegerUnder(STRINGS_TO_DESCRIPTION)));\n};\n\nconst getCommentsData = () => ({\n  author: [\n    `Tim Macoveev`,\n    `John Doe`,\n    `Don Joe`,\n    `Bon Boe`,\n    `Ron Chloe`][getRandomIntegerUnder(COMMENTS_NUMBER)],\n  text: [\n    `Interesting setting and a good cast`,\n    `Booooooooooring`,\n    `Very very old. Meh`,\n    `Almost two hours? Seriously?`\n  ][getRandomIntegerUnder(COMMENTS_NUMBER)],\n  date: Date.now() - (1 + Math.floor(Math.random() * 7) * 24 * 60 * 60 * 1000),\n  emoji: [\n    `./images/emoji/smile.png`,\n    `./images/emoji/sleeping.png`,\n    `./images/emoji/puke.png`,\n    `./images/emoji/angry.png`,\n  ][getRandomIntegerUnder(COMMENTS_NUMBER)],\n});\n\n\nexport const getFilmData = () => ({\n  poster: getPoster(),\n  title: getTitle(),\n  rating: getRating(),\n  year: getYear(),\n  duration: getDuration(),\n  genre: getGenre(),\n  description: getDescription(),\n  comments: new Array(avoidZero(getRandomIntegerUnder(NUMBER_OF_TITLES))).fill(``).map(getCommentsData),\n  state: {\n    isToWatchlist: false,\n    isWatched: false,\n    isFavorite: false,\n  },\n  age: [12, 14, 16, 18][getRandomIntegerUnder(COMMENTS_NUMBER)],\n  director: [`Anthony Mann`, `Anthony Wann`, `Anthony Zann`][getRandomIntegerUnder(STRINGS_TO_DESCRIPTION)],\n  writer: [`Anne Wigton`, `Heinz Herald`, `Richard Weil`][getRandomIntegerUnder(STRINGS_TO_DESCRIPTION)],\n  actors: [`Erich von Stroheim`, `Mary Beth Hughes`, `Dan Duryea`][getRandomIntegerUnder(STRINGS_TO_DESCRIPTION)],\n  releaseDate: getYear(),\n  runtime: getDuration(),\n  country: [`USA`, `Canada`, `France`, `Germany`, `Italy`, `Spain`, `Norway`][getRandomIntegerUnder(NUMBER_OF_TITLES)],\n  genres: [`comedy`, `musical`, `action`, `drama`, `thriller`, `horror`, `documental`]\n    .slice(getRandomIntegerUnder(0), avoidZero(getRandomIntegerUnder(NUMBER_OF_TITLES))),\n});\n\nexport const films = new Array(NUMBER_OF_FILMS_TO_RENDER).fill(``).map(getFilmData);\nexport const numberOfSeen = getRandomIntegerUnder(NUMBER_OF_TITLES);\n\nexport const filtersValues = [\n  {filter: `All movies`, value: films.length},\n  {filter: `Watchlist`, value: getRandomIntegerUnder(NUMBER_OF_TITLES)},\n  {filter: `History`, value: getRandomIntegerUnder(NUMBER_OF_TITLES)},\n  {filter: `Favorites`, value: getRandomIntegerUnder(NUMBER_OF_TITLES)},\n];\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class FilmCard extends AbstractComponent {\n  constructor({poster, title, rating, year, duration, genre, description, comments, state}) {\n    super();\n    this._poster = poster;\n    this._title = title;\n    this._rating = rating;\n    this._year = year;\n    this._duration = duration;\n    this._genre = genre;\n    this._description = description;\n    this._comments = comments;\n    this._state = state;\n  }\n\n  getTemplate() {\n    return `\n     <article class=\"film-card\">\n        <h3 class=\"film-card__title\">${this._title}</h3>\n        <p class=\"film-card__rating\">${this._rating}</p>\n        <p class=\"film-card__info\">\n          <span class=\"film-card__year\">${this._year}</span>\n          <span class=\"film-card__duration\">${this._duration}</span>\n          <span class=\"film-card__genre\">${this._genre}</span>\n        </p>\n        <img src=\"${this._poster}\" alt=\"\" class=\"film-card__poster\">\n        <p class=\"film-card__description\">${this._description}</p>\n        <a class=\"film-card__comments\">${this._comments.length} comments</a>\n        <form class=\"film-card__controls\">\n          <button class=\"${this._state.isToWatchlist ? `film-card__controls-item--active` : ``} film-card__controls-item button film-card__controls-item--add-to-watchlist\">Add to watchlist</button>\n          <button class=\"${this._state.isWatched ? `film-card__controls-item--active` : ``} film-card__controls-item button film-card__controls-item--mark-as-watched\">Mark as watched</button>\n          <button class=\"${this._state.isFavorite ? `film-card__controls-item--active` : ``} film-card__controls-item button film-card__controls-item--favorite\">Mark as favorite</button>\n        </form>\n      </article>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nconst rates = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\nexport class FilmPopup extends AbstractComponent {\n  constructor({poster, age, title, rating, director, writer, actors, releaseDate, runtime, country, genres, description, comments}) {\n    super();\n    this._poster = poster;\n    this._age = age;\n    this._title = title;\n    this._rating = rating;\n    this._director = director;\n    this._writer = writer;\n    this._actors = actors;\n    this._releaseDate = releaseDate;\n    this._runtime = runtime;\n    this._country = country;\n    this._genres = genres;\n    this._description = description;\n    this._comments = comments;\n  }\n\n  getTemplate() {\n    return `\n      <section class=\"film-details\">\n        <form class=\"film-details__inner\" action=\"\" method=\"get\">\n          <div class=\"form-details__top-container\">\n            <div class=\"film-details__close\">\n              <button class=\"film-details__close-btn\" type=\"button\">close</button>\n            </div>\n            <div class=\"film-details__info-wrap\">\n              <div class=\"film-details__poster\">\n                <img class=\"film-details__poster-img\" src=\"${this._poster}\" alt=\"\">\n      \n                <p class=\"film-details__age\">${this._age}+</p>\n              </div>\n      \n              <div class=\"film-details__info\">\n                <div class=\"film-details__info-head\">\n                  <div class=\"film-details__title-wrap\">\n                    <h3 class=\"film-details__title\">${this._title}</h3>\n                    <p class=\"film-details__title-original\">Original: ${this._title}</p>\n                  </div>\n      \n                  <div class=\"film-details__rating\">\n                    <p class=\"film-details__total-rating\">${this._rating}</p>\n                  </div>\n                </div>\n      \n                <table class=\"film-details__table\">\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Director</td>\n                    <td class=\"film-details__cell\">${this._director}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Writers</td>\n                    <td class=\"film-details__cell\">${this._writer}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Actors</td>\n                    <td class=\"film-details__cell\">${this._actors}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Release Date</td>\n                    <td class=\"film-details__cell\">${this._releaseDate}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Runtime</td>\n                    <td class=\"film-details__cell\">${this._runtime}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Country</td>\n                    <td class=\"film-details__cell\">${this._country}</td>\n                  </tr>\n                  <tr class=\"film-details__row\">\n                    <td class=\"film-details__term\">Genres</td>\n                    <td class=\"film-details__cell\">\n                    ${Array.from(this._genres).map((genre) => `\n                    <span class=\"film-details__genre\">${genre}</span>`)}\n                  </tr>\n                </table>\n      \n                <p class=\"film-details__film-description\">\n                  ${this._description}\n                </p>\n              </div>\n            </div>\n      \n            <section class=\"film-details__controls\">\n              <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watchlist\" name=\"watchlist\">\n              <label for=\"watchlist\" class=\"film-details__control-label film-details__control-label--watchlist\">Add to watchlist</label>\n      \n              <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watched\" name=\"watched\">\n              <label for=\"watched\" class=\"film-details__control-label film-details__control-label--watched\">Already watched</label>\n      \n              <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"favorite\" name=\"favorite\">\n              <label for=\"favorite\" class=\"film-details__control-label film-details__control-label--favorite\">Add to favorites</label>\n            </section>\n          </div>\n          \n          <div class=\"form-details__middle-container visually-hidden\">\n            <section class=\"film-details__user-rating-wrap\">\n              <div class=\"film-details__user-rating-controls\">\n                <button class=\"film-details__watched-reset\" type=\"button\">Undo</button>\n              </div>\n      \n              <div class=\"film-details__user-score\">\n                <div class=\"film-details__user-rating-poster\">\n                  <img src=\"${this._poster}\" alt=\"film-poster\" class=\"film-details__user-rating-img\">\n                </div>\n      \n                <section class=\"film-details__user-rating-inner\">\n                  <h3 class=\"film-details__user-rating-title\">${this._title}</h3>\n      \n                  <p class=\"film-details__user-rating-feelings\">How you feel it?</p>\n      \n                  <div class=\"film-details__user-rating-score\">\n                    ${rates.map((number) => `\n                      <input type=\"radio\" name=\"score\" class=\"film-details__user-rating-input visually-hidden\" value=\"${number}\" id=\"rating-${number}\">\n                      <label class=\"film-details__user-rating-label\" for=\"rating-${number}\">${number}</label>\n                    `).join(``)}\n                  </div>\n                </section>\n              </div>\n            </section>\n          </div>\n      \n          <div class=\"form-details__bottom-container\">\n            <section class=\"film-details__comments-wrap\">\n              <h3 class=\"film-details__comments-title\">Comments <span class=\"film-details__comments-count\">${this._comments.length}</span></h3>\n      \n              <ul class=\"film-details__comments-list\">\n                ${this._comments.map((comment) => `\n                  <li class=\"film-details__comment\">\n                  <span class=\"film-details__comment-emoji\">\n                    <img src=\"${comment.emoji}\" width=\"55\" height=\"55\" alt=\"emoji\">\n                  </span>\n                  <div>\n                    <p class=\"film-details__comment-text\">${comment.text}</p>\n                    <p class=\"film-details__comment-info\">\n                      <span class=\"film-details__comment-author\">${comment.author}</span>\n                      <span class=\"film-details__comment-day\">${new Date(comment.date).toDateString()}</span>\n                      <button class=\"film-details__comment-delete\">Delete</button>\n                    </p>\n                  </div>\n                </li>\n                `).join(``)}\n              </ul>\n      \n              <div class=\"film-details__new-comment\">\n                <div for=\"add-emoji\" class=\"film-details__add-emoji-label\"></div>\n      \n                <label class=\"film-details__comment-label\">\n                  <textarea class=\"film-details__comment-input\" placeholder=\"Select reaction below and write comment here\" name=\"comment\"></textarea>\n                </label>\n      \n                <div class=\"film-details__emoji-list\">\n                  <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-smile\" value=\"sleeping\">\n                  <label class=\"film-details__emoji-label\" for=\"emoji-smile\">\n                    <img src=\"./images/emoji/smile.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                  </label>\n      \n                  <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-sleeping\" value=\"neutral-face\">\n                  <label class=\"film-details__emoji-label\" for=\"emoji-sleeping\">\n                    <img src=\"./images/emoji/sleeping.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                  </label>\n      \n                  <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-gpuke\" value=\"grinning\">\n                  <label class=\"film-details__emoji-label\" for=\"emoji-gpuke\">\n                    <img src=\"./images/emoji/puke.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                  </label>\n      \n                  <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-angry\" value=\"grinning\">\n                  <label class=\"film-details__emoji-label\" for=\"emoji-angry\">\n                    <img src=\"./images/emoji/angry.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                  </label>\n                </div>\n              </div>\n            </section>\n          </div>\n        </form>\n      </section>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class FilmSection extends AbstractComponent {\n  getTemplate() {\n    return `<section class=\"films\"></section>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class CommentedFilms extends AbstractComponent {\n  getTemplate() {\n    return `\n      <section class=\"films-list--extra\">\n        <h2 class=\"films-list__title\">Most commented</h2>\n      </section>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class FilmsListContainer extends AbstractComponent {\n  getTemplate() {\n    return `<div class=\"films-list__container\"></div>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class FilmsListTitle extends AbstractComponent {\n  getTemplate() {\n    return `<h2 class=\"films-list__title\"></h2>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class FilmsList extends AbstractComponent {\n  getTemplate() {\n    return `<section class=\"films-list\"></section>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class TopFilms extends AbstractComponent {\n  getTemplate() {\n    return `\n      <section class=\"films-list--extra\">\n        <h2 class=\"films-list__title\">Top rated</h2>\n      </section>`;\n  }\n}\n","import {utils} from \"./site-utils\";\nimport {PageController} from \"./site-page-controller\";\nimport {ShowMoreButton} from \"./site-show-more\";\n\nconst body = document.querySelector(`body`);\nconst mainElement = document.querySelector(`.main`);\n\nexport class MovieController {\n  constructor(data, onDataChange) {\n    this._data = data;\n    this._onDataChange = onDataChange;\n  }\n\n  init() {\n    utils.renderPopup(this._data[0]);\n    this._onCardControlClick();\n    this._onCardClick();\n  }\n\n  _onCardClick() {\n    mainElement.querySelectorAll(`.film-card`).forEach((card) => {\n      card.addEventListener(`click`, (evt) => {\n        if (evt.target.tagName === `TITLE` || `IMG` || `P`) {\n          const cardId = parseInt(`${evt.target.parentNode.getAttribute(`data-id`)}`, 10);\n          utils.remove(body.querySelector(`.film-details`));\n          utils.renderPopup(this._data[cardId]);\n          body.querySelector(`.film-details`).classList.remove(`visually-hidden`);\n          body.querySelector(`.film-details`).setAttribute(`data-id`, cardId);\n          body.querySelector(`.film-details__controls`).setAttribute(`data-controls`, cardId);\n          this._onPopupControlClick();\n          this._onCommentEmojiClick();\n          this._onRatingControlClick();\n          this._onCommentDeleteClick();\n        }\n      });\n    });\n  }\n\n  _onCardControlClick() {\n    const dataCopy = this._data.slice();\n\n    mainElement.querySelectorAll(`.film-card`).forEach((card) => {\n      card.addEventListener(`click`, (evt) => {\n        evt.preventDefault();\n\n        if (evt.target.tagName === `BUTTON`) {\n          const currentId = card.dataset.id;\n\n          evt.target.classList.toggle(`film-card__controls-item--active`);\n\n          if (evt.target.classList.contains(`film-card__controls-item--add-to-watchlist`)) {\n            dataCopy[currentId].state.isToWatchlist = !dataCopy[currentId].state.isToWatchlist;\n          }\n\n          if (evt.target.classList.contains(`film-card__controls-item--mark-as-watched`)) {\n            dataCopy[currentId].state.isWatched = !dataCopy[currentId].state.isWatched;\n          }\n\n          if (evt.target.classList.contains(`film-card__controls-item--favorite`)) {\n            dataCopy[currentId].state.isFavorite = !dataCopy[currentId].state.isFavorite;\n          }\n\n          this._onDataChange(dataCopy, this._data);\n          const controller = new PageController(mainElement.querySelector(`.films-list__container`), this._data);\n          controller.init();\n          utils.render(mainElement.querySelector(`.films-list__container`), utils.getElementFromClass(new ShowMoreButton()), utils.Position.BEFOREEND);\n          const movieController = new MovieController(this._data, this._onDataChange);\n          movieController.init();\n        }\n      });\n    });\n  }\n\n  _onPopupControlClick() {\n    const dataCopy = this._data.slice();\n    const currentCard = body.querySelector(`.film-details__controls`)\n      .dataset.controls;\n\n    body.querySelector(`.film-details__controls`).addEventListener(`click`, (evt) => {\n      if (evt.target.tagName === `LABEL` && evt.target.classList.contains(`film-details__control-label`)) {\n        const formData = new FormData(body.querySelector(`.film-details__inner`));\n\n        if (evt.target.classList.contains(`film-details__control-label--watchlist`)) {\n          dataCopy[currentCard].state.isToWatchlist = formData.get(`watchlist`) !== `on`;\n        }\n\n        if (evt.target.classList.contains(`film-details__control-label--watched`)) {\n          dataCopy[currentCard].state.isWatched = formData.get(`watched`) !== `on`;\n          body.querySelector(`.form-details__middle-container`).classList.remove(`visually-hidden`);\n        }\n\n        if (evt.target.classList.contains(`film-details__control-label--favorite`)) {\n          dataCopy[currentCard].state.isFavorite = formData.get(`favorite`) !== `on`;\n        }\n\n        this._onDataChange(dataCopy, this._data);\n        const controller = new PageController(mainElement.querySelector(`.films-list__container`), this._data);\n        controller.init();\n        utils.render(mainElement.querySelector(`.films-list__container`), utils.getElementFromClass(new ShowMoreButton()), utils.Position.BEFOREEND);\n        const movieController = new MovieController(this._data, this._onDataChange);\n        movieController.init();\n      }\n    });\n  }\n\n  _onCommentEmojiClick() {\n    const emojiContainer = body.querySelector(`.film-details__add-emoji-label`);\n    const emojiHeight = body.querySelector(`.film-details__comment-emoji img`).getAttribute(`height`);\n    const emojiWidth = body.querySelector(`.film-details__comment-emoji img`).getAttribute(`width`);\n    emojiContainer.innerHTML = ``;\n\n    body.querySelectorAll(`.film-details__emoji-label`).forEach((label) => {\n      label.addEventListener(`click`, () => {\n        switch (label.getAttribute(`for`)) {\n          case `emoji-sleeping`:\n            emojiContainer.innerHTML = `<img src=\"./images/emoji/sleeping.png\" width=\"${emojiWidth}\" height=\"${emojiHeight}\" alt=\"emoji\">`;\n            break;\n          case `emoji-smile`:\n            emojiContainer.innerHTML = `<img src=\"./images/emoji/smile.png\" width=\"${emojiWidth}\" height=\"${emojiHeight}\" alt=\"emoji\">`;\n            break;\n          case `emoji-gpuke`:\n            emojiContainer.innerHTML = `<img src=\"./images/emoji/puke.png\" width=\"${emojiWidth}\" height=\"${emojiHeight}\" alt=\"emoji\">`;\n            break;\n          case `emoji-angry`:\n            emojiContainer.innerHTML = `<img src=\"./images/emoji/angry.png\" width=\"${emojiWidth}\" height=\"${emojiHeight}\" alt=\"emoji\">`;\n            break;\n        }\n      });\n    });\n  }\n\n  _onRatingControlClick() {\n    const totalRating = parseInt(body.querySelector(`.film-details__total-rating`).textContent, 10);\n\n    body.querySelectorAll(`.film-details__user-rating-label`).forEach((control) => {\n      control.addEventListener(`click`, (evt) => {\n        const middleRating = (totalRating + parseInt(`${evt.target.textContent}`, 10)) / 2;\n        body.querySelector(`.film-details__total-rating`).textContent = middleRating;\n      });\n    });\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\nimport {filtersValues} from './site-data';\n\nexport class Navigation extends AbstractComponent {\n  getTemplate() {\n    return `\n      <nav class=\"main-navigation\">\n        ${Array.from(filtersValues).map((filter) => `\n        <a href=\"${filter.filter}\" class=\"main-navigation__item main-navigation__item--active\">${filter.filter} <span class=\"main-navigation__item-count\">${filter.value}</span></a>\n        `).join(``)}\n        <a href=\"#stats\" class=\"main-navigation__item main-navigation__item--additional\">Stats</a>\n      </nav>`;\n  }\n}\n","import {films} from \"./site-data\";\nimport {utils} from \"./site-utils\";\n\nconst mainElement = document.querySelector(`.main`);\n\nexport class PageController {\n  constructor(container, cards) {\n    this._container = container;\n    this._cards = cards;\n  }\n\n  init() {\n    this._cards.forEach((card) => {\n      utils.renderCard(card, this._container);\n    });\n\n    const filters = mainElement.querySelectorAll(`.sort__button`);\n    const dataAtributes = [`default`, `by-date`, `by-rating`];\n\n    for (let i = 0; i < filters.length; i++) {\n      filters[i].setAttribute(`data-sorting`, dataAtributes[i]);\n    }\n\n    mainElement.querySelector(`.sort`).addEventListener(`click`, (evt) => this._onSortingClick(evt));\n  }\n\n  _onDataChange(newData, oldData) {\n    this._cards[this._cards.findIndex((index) => index === oldData)] = newData;\n    this._container.querySelectorAll(`.film-card`).forEach((card) => {\n      card.remove();\n    });\n    this._container.querySelector(`.films-list__show-more`).remove();\n  }\n\n  _onSortingClick(evt) {\n    evt.preventDefault();\n\n    if (evt.target.tagName !== `A`) {\n      return;\n    }\n\n    this._container.innerHTML = ``;\n\n    if (!evt.target.classList.contains(`sort__button--active`)) {\n      let currentFilter = mainElement.querySelector(`.sort__button--active`);\n      currentFilter.classList.remove(`sort__button--active`);\n      evt.target.classList.add(`sort__button--active`);\n    }\n\n    switch (evt.target.dataset.sorting) {\n      case `default`:\n        const defaultData = films.slice();\n        utils.renderData(defaultData, this._container);\n        break;\n      case `by-date`:\n        const sortedByDate = films.slice().sort((a, b) => b.year - a.year);\n        utils.renderData(sortedByDate, this._container);\n        break;\n      case `by-rating`:\n        const sortedByRating = films.slice().sort((a, b) => b.rating - a.rating);\n        utils.renderData(sortedByRating, this._container);\n        break;\n    }\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class Search extends AbstractComponent {\n  getTemplate() {\n    return `\n      <form class=\"header__search search\">\n        <input type=\"text\" name=\"search\" class=\"search__field\" placeholder=\"Search movies\">\n        <svg fill=\"#7171D8\" class=\"search__film-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"19\" viewBox=\"0 0 20 19\">\n          <path fill-rule=\"nonzero\" d=\"M2 0v4.524h2.833V0h11.334v4.524H19V0h1v19h-1v-4.524h-2.833V19H4.833v-4.524H2V19H0V0h2zm0 7.238v4.524h2.833V7.238H2zm14.167 0v4.524H19V7.238h-2.833z\"/>\n        </svg>\n        <button type=\"submit\" class=\"visually-hidden\">Search</button>\n        <button class=\"search__reset\" type=\"reset\">Reset</button>\n      </form>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class ShowMoreButton extends AbstractComponent {\n  getTemplate() {\n    return `<button class=\"films-list__show-more\">Show more</button>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\n\nexport class Sorting extends AbstractComponent {\n  getTemplate() {\n    return `\n      <ul class=\"sort\">\n        <li><a href=\"#\" class=\"sort__button sort__button--active\">Sort by default</a></li>\n        <li><a href=\"#\" class=\"sort__button\">Sort by date</a></li>\n        <li><a href=\"#\" class=\"sort__button\">Sort by rating</a></li>\n      </ul>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\nimport {utils} from \"./site-utils\";\n\nconst mainElement = document.querySelector(`.main`);\n\nexport class Statistics extends AbstractComponent {\n  getTemplate() {\n    return `\n    <section class=\"statistic\">\n      <p class=\"statistic__rank\">\n        Your rank \n        <img class=\"statistic__img\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\"> \n        <span class=\"statistic__rank-label\">Sci-Fighter</span>\n      </p>\n    \n      <form action=\"https://echo.htmlacademy.ru/\" method=\"get\" class=\"statistic__filters\">\n        <p class=\"statistic__filters-description\">Show stats:</p>\n    \n        <input type=\"radio\" class=\"statistic__filters-input visually-hidden\" name=\"statistic-filter\" id=\"statistic-all-time\" value=\"all-time\" checked>\n        <label for=\"statistic-all-time\" class=\"statistic__filters-label\">All time</label>\n    \n        <input type=\"radio\" class=\"statistic__filters-input visually-hidden\" name=\"statistic-filter\" id=\"statistic-today\" value=\"today\">\n        <label for=\"statistic-today\" class=\"statistic__filters-label\">Today</label>\n    \n        <input type=\"radio\" class=\"statistic__filters-input visually-hidden\" name=\"statistic-filter\" id=\"statistic-week\" value=\"week\">\n        <label for=\"statistic-week\" class=\"statistic__filters-label\">Week</label>\n    \n        <input type=\"radio\" class=\"statistic__filters-input visually-hidden\" name=\"statistic-filter\" id=\"statistic-month\" value=\"month\">\n        <label for=\"statistic-month\" class=\"statistic__filters-label\">Month</label>\n    \n        <input type=\"radio\" class=\"statistic__filters-input visually-hidden\" name=\"statistic-filter\" id=\"statistic-year\" value=\"year\">\n        <label for=\"statistic-year\" class=\"statistic__filters-label\">Year</label>\n      </form>\n    \n      <ul class=\"statistic__text-list\">\n        <li class=\"statistic__text-item\">\n          <h4 class=\"statistic__item-title\">You watched</h4>\n          <p class=\"statistic__item-text\">22 <span class=\"statistic__item-description\">movies</span></p>\n        </li>\n        <li class=\"statistic__text-item\">\n          <h4 class=\"statistic__item-title\">Total duration</h4>\n          <p class=\"statistic__item-text\">130 <span class=\"statistic__item-description\">h</span> 22 <span class=\"statistic__item-description\">m</span></p>\n        </li>\n        <li class=\"statistic__text-item\">\n          <h4 class=\"statistic__item-title\">Top genre</h4>\n          <p class=\"statistic__item-text\">Sci-Fi</p>\n        </li>\n      </ul>\n    \n      <div class=\"statistic__chart-wrap\">\n        <canvas class=\"statistic__chart\" width=\"1000\"></canvas>\n      </div>\n    </section>`;\n  }\n\n  init() {\n    const statsItem = document.querySelector(`.main-navigation__item--additional`);\n    const navItems = document.querySelectorAll(`.main-navigation__item`);\n\n    statsItem.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n\n      statsItem.classList.add(`main-navigation__item--active`);\n      document.querySelector(`.films`).classList.add(`visually-hidden`);\n      document.querySelector(`.sort`).classList.add(`visually-hidden`);\n      utils.render(mainElement, AbstractComponent.makeElement(this.getTemplate()), utils.Position.BEFOREEND);\n    });\n\n    navItems.forEach((item) => {\n      item.addEventListener(`click`, (evt) => {\n        evt.preventDefault();\n\n        if (!item.classList.contains(`main-navigation__item--additional`)) {\n          document.querySelector(`.films`).classList.remove(`visually-hidden`);\n          document.querySelector(`.sort`).classList.remove(`visually-hidden`);\n        }\n      });\n    });\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\nimport {numberOfSeen} from './site-data';\n\nexport class UserProfile extends AbstractComponent {\n  getTemplate() {\n    return `\n      <section class=\"header__profile profile\">\n        <p class=\"profile__rating\">${numberOfSeen}</p>\n        <img class=\"profile__avatar\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\">\n      </section>`;\n  }\n}\n","import {AbstractComponent} from \"./site-abstract-component\";\nimport {FilmPopup} from \"./site-film-popup\";\nimport {FilmCard} from \"./site-film-card\";\n\nconst ESC_KEYCODE = 27;\nconst body = document.querySelector(`body`);\nconst mainElement = document.querySelector(`.main`);\n\nexport const utils = {\n  Position: {\n    AFTERBEGIN: `afterbegin`,\n    BEFOREEND: `beforeend`,\n  },\n\n  render: (container, element, place) => {\n    switch (place) {\n      case utils.Position.AFTERBEGIN:\n        container.prepend(element);\n        break;\n      case utils.Position.BEFOREEND:\n        container.append(element);\n        break;\n    }\n  },\n\n  remove: (element) => {\n    if (element) {\n      element.remove();\n    }\n  },\n\n  getElementFromClass: (classObject) => {\n    return AbstractComponent.makeElement(classObject.getTemplate());\n  },\n\n  renderElements: (array, container, position) => {\n    array.forEach((arrayElement) => {\n      utils.render(container, arrayElement, position);\n    });\n  },\n\n  renderCard: (cardMock, cardContainer) => {\n    const card = new FilmCard(cardMock);\n\n    const title = card.getElement().querySelector(`.film-card__title`);\n    const posterImage = card.getElement().querySelector(`.film-card img`);\n    const commentsCount = card.getElement().querySelector(`.film-card__comments`);\n\n    [title, posterImage, commentsCount].forEach((element) => {\n      element.addEventListener(`click`, () => {\n        document.querySelector(`.film-details`).classList\n          .remove(`visually-hidden`);\n      });\n      element.style.cursor = `pointer`;\n    });\n\n    utils.render(cardContainer, card.getElement(), utils.Position.BEFOREEND);\n\n    const cards = mainElement.querySelectorAll(`.film-card`);\n\n    for (let i = 0; i < cards.length; i++) {\n      cards[i].setAttribute(`data-id`, i);\n    }\n  },\n\n  renderPopup: (popupMock) => {\n    const popup = new FilmPopup(popupMock);\n\n    popup.getElement().classList.add(`visually-hidden`);\n\n    document.addEventListener(`keydown`, (evt) => {\n      if (evt.keyCode === ESC_KEYCODE) {\n        popup.getElement().classList.add(`visually-hidden`);\n      }\n    });\n\n    popup.getElement().querySelector(`.film-details__close-btn`)\n      .addEventListener(`click`, () => {\n        popup.getElement().classList.add(`visually-hidden`);\n      });\n\n    utils.render(body, popup.getElement(), utils.Position.BEFOREEND);\n  },\n\n  renderData: (data, container) => {\n    data.forEach((element) => {\n      utils.renderCard(element, container);\n    });\n  },\n};\n","import {films} from \"./components/site-data\";\nimport {utils} from \"./components/site-utils\";\nimport {Search} from \"./components/site-search\";\nimport {Sorting} from \"./components/site-sorting\";\nimport {getFilmData} from \"./components/site-data\";\nimport {getPopupData} from \"./components/site-data\";\nimport {FilmCard} from \"./components/site-film-card\";\nimport {TopFilms} from \"./components/site-films-top\";\nimport {FilmPopup} from \"./components/site-film-popup\";\nimport {FilmsList} from \"./components/site-films-list\";\nimport {Navigation} from \"./components/site-navigation\";\nimport {ShowMoreButton} from \"./components/site-show-more\";\nimport {FilmSection} from \"./components/site-film-section\";\nimport {UserProfile} from \"./components/site-user-profile\";\nimport {FilmsListContainer} from \"./components/site-films-container\";\nimport {CommentedFilms} from \"./components/site-films-commented\";\nimport {FilmsListTitle} from \"./components/site-films-list-title\";\nimport {PageController} from \"./components/site-page-controller\";\nimport {MovieController} from \"./components/site-movie-controller\";\nimport {Statistics} from \"./components/site-statistics\";\n\nconst NUMBER_OF_FILMS_TO_RENDER = 5;\n\nconst elementsIntoHeader = [utils.getElementFromClass(new Search), utils.getElementFromClass(new UserProfile)];\nconst elementsIntoMain = [utils.getElementFromClass(new Navigation), utils.getElementFromClass(new Sorting), utils.getElementFromClass(new FilmSection)];\nconst elementsIntoFilmsSection = [utils.getElementFromClass(new FilmsList), utils.getElementFromClass(new TopFilms), utils.getElementFromClass(new CommentedFilms)];\n\nconst mainElement = document.querySelector(`.main`);\nconst headerElement = document.querySelector(`.header`);\nutils.renderElements(elementsIntoHeader, headerElement, utils.Position.BEFOREEND);\nutils.renderElements(elementsIntoMain, mainElement, utils.Position.BEFOREEND);\n\nconst filmsSection = mainElement.querySelector(`.films`);\nutils.renderElements(elementsIntoFilmsSection, filmsSection, utils.Position.BEFOREEND);\n\nconst filmsList = filmsSection.querySelector(`.films-list`);\nutils.render(filmsList, utils.getElementFromClass(new FilmsListTitle), utils.Position.BEFOREEND);\n\nconst upcomingMovies = filmsSection.querySelector(`.films-list__title`);\nupcomingMovies.textContent = `All movies. Upcoming`;\nupcomingMovies.classList.add(`visually-hidden`);\nutils.render(filmsList, utils.getElementFromClass(new FilmsListContainer), utils.Position.BEFOREEND);\n\nconst upcomingFilmsContainer = filmsList.querySelector(`.films-list__container`);\nconst controller = new PageController(upcomingFilmsContainer, films);\ncontroller.init();\n\nconst movieController = new MovieController(films, controller._onDataChange.bind(controller));\nmovieController.init();\n\nutils.render(upcomingFilmsContainer, utils.getElementFromClass(new ShowMoreButton()), utils.Position.BEFOREEND);\n\nconst extraFilmsSections = filmsSection.querySelectorAll(`.films-list--extra`);\nextraFilmsSections.forEach((section) => {\n  utils.render(section, utils.getElementFromClass(new FilmsListContainer()), utils.Position.BEFOREEND);\n});\n\nconst extraFilmsContainers = filmsSection.querySelectorAll(`.films-list--extra .films-list__container`);\nextraFilmsContainers.forEach((container) => {\n  const extraData = new Array(extraFilmsContainers.length).fill(``).map(getFilmData);\n  extraData.forEach((data) => {\n    utils.renderCard(data, container);\n  });\n});\n\nconst stats = new Statistics();\nstats.init();\n\nconst showMoreButton = filmsList.querySelector(`.films-list__show-more`);\nlet cards = filmsList.querySelectorAll(`.film-card`);\ncards.forEach((card) => {\n  card.classList.add(`visually-hidden`);\n});\n\nlet limiter = 0;\n\nconst checkForHiddens = () => {\n  let isHidden;\n\n  for (let card of cards) {\n    isHidden = card.classList.contains(`visually-hidden`);\n  }\n\n  return isHidden;\n};\n\nconst showCards = () => {\n  for (let i = 0; i < NUMBER_OF_FILMS_TO_RENDER + limiter; i++) {\n    cards[i].classList.remove(`visually-hidden`);\n  }\n\n  if (!checkForHiddens()) {\n    showMoreButton.classList.add(`visually-hidden`);\n  }\n\n  limiter += 5;\n};\n\nconst onShowMoreClick = () => {\n  showCards();\n};\n\nconst filmsInBase = document.querySelector(`.footer__statistics p`);\nfilmsInBase.textContent = `${films.length.toString()} movies inside`;\n\nshowCards();\nshowMoreButton.addEventListener(`click`, onShowMoreClick);\n"],"sourceRoot":""}